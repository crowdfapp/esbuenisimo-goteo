goteo.typeahead_engines=goteo.typeahead_engines||{},goteo.typeahead_engines.call=function(e){var t=e&&e.prefetch_statuses||"3,4,5",s=e&&e.remote_statuses||"3,4,5,6",a=e&&e.defaults||!1,n=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("id","name","subtitle"),identify:function(e){return e.id},dupDetector:function(e,t){return e.id===t.id},queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:{url:"/api/calls?status="+t,filter:function(e){return e.list}},remote:{url:"/api/calls?status="+s+"&q=%QUERY",wildcard:"%QUERY",filter:function(e){return e.list}}});n.initialize();return{name:"call",displayKey:"name",source:function(e,t,s){""===e&&a?(t(n.index.all()),s([])):n.search(e,t,s)},templates:{header:"<h3>"+(goteo.texts&&goteo.texts["admin-calls"]||"Calls")+"</h3>",suggestion:function(e){var t="default";2===e.status&&(t="warning"),3===e.status&&(t="info"),4===e.status&&(t="orange"),5===e.status&&(t="success"),6===e.status&&(t="danger");var s="<div>";return e.image&&(s+='<img src="'+e.image+'" class="img-circle"> '),s+='<span class="label label-'+t+'">'+e.status_desc+"</span> ",s+=e.name+"</div>"}}}};