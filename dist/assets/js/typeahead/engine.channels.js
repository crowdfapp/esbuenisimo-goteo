goteo.typeahead_engines=goteo.typeahead_engines||{},goteo.typeahead_engines.channel=function(e){var i=e&&e.defaults||!1,o=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("id","name","subtitle"),identify:function(e){return e.id},dupDetector:function(e,n){return e.id===n.id},queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:{url:"/api/channels",filter:function(e){return e.list}},remote:{url:"/api/channels?q=%QUERY",wildcard:"%QUERY",filter:function(e){return e.list}}});o.initialize();return{name:"channel",displayKey:"name",source:function(e,n,t){""===e&&i?(n(o.index.all()),t([])):o.search(e,n,t)},templates:{header:"<h3>"+(goteo.texts&&goteo.texts["admin-channels"]||"channels")+"</h3>",suggestion:function(e){var n="<div>";return e.logo&&(n+='<img src="'+e.logo+'" class="img-circle"> '),n+=e.name+"</div>"}}}};