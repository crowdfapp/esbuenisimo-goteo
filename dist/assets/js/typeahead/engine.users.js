goteo.typeahead_engines=goteo.typeahead_engines||{},goteo.typeahead_engines.user=function(e){var t=e&&e.defaults||!1,o=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("id","name","email"),identify:function(e){return e.id},dupDetector:function(e,i){return e.id===i.id},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:"/api/users?q=%QUERY",wildcard:"%QUERY",filter:function(e){return e.list}}});o.initialize();return{name:"user",displayKey:"name",source:function(e,i,n){""===e&&t?(i(o.index.all()),n([])):o.search(e,i,n)},templates:{header:"<h3>"+(goteo.texts&&goteo.texts["admin-users"]||"users")+"</h3>",suggestion:function(e){var i="<div>";return e.image&&(i+='<img src="'+e.image+'" class="img-circle"> '),i+=e.name+(e.email&&" ("+e.email+")")+"</div>"}}}};