d3.goteo=d3.goteo||{},d3.goteo.discretevaluesChart=function(t){var x=t&&t.width||64,v=t&&t.height||64,w=t&&t.color||"black",m=t&&t["flash-color"]||"orange",O=t&&t["flash-time"]||10,b=t&&t.delay||200,M=function(t,e){var a=e.split("."),i=t;return a.forEach(function(t){if(!i.hasOwnProperty(t))return null;i=i[t]}),i!=t?i:null};return function(t){t.each(function(u){console.log("discret values graph dataset",u),d3.select(this).selectAll("[data-property]").each(function(t,e){var a=d3.select(this),i=a.attr("data-property"),r=a.attr("data-title"),n=a.attr("data-tooltip"),o=M(u,i);if(r=M(u,r)||r,null!==o){o=o.toString();var l=!1,s=d3.select(this).select("svg");if(!s.empty()){if(s.select("g").select("text").text()==o)return;s.remove(),l=!0}var p=(s=d3.select(this).append("svg").attr("viewBox","0 0 "+x+" "+v).attr("preserveAspectRatio","xMinYMin meet")).append("g"),d=Math.min(1,Math.round(80/o.length)/10),c=w;if(-1!==o.indexOf("%")?c=-1===o.indexOf("-")?"green":"#b00":-1!==o.indexOf("-")&&(c="#b00"),p.append("text").text(o).attr("text-anchor","middle").attr("font-size",d+"em").attr("x",x/2).attr("y",v/3).attr("fill",l?m:c).style("opacity",0).transition().delay(b*e).style("opacity",1).transition().duration(1e3*O).attr("fill",c),n){var f=d3.select("body").append("div").attr("class","tooltip top").style("opacity",0);f.append("div").attr("class","tooltip-arrow");var h=M(u,n).toString()||n;f.append("div").attr("class","tooltip-inner").html(h),s.on("mouseover",function(t){var e=this.getScreenCTM().translate(+this.getAttribute("cx"),+this.getAttribute("cy"));f.attr("transform","translate("+e.e+","+(e.f-v/3)+")").style("left",window.pageXOffset+e.e+x/2+"px").style("top",window.pageYOffset+e.f+"px"),f.transition().duration(200).style("opacity",.9).style("left",window.pageXOffset+e.e+x/2+"px").style("top",window.pageYOffset+e.f-v/3+"px")}).on("mouseout",function(t){f.transition().duration(500).style("opacity",0)})}var y=x,g=v/2;p.append("foreignObject").attr("x",0).attr("y",v-g).attr("width",y).attr("height",g).append("xhtml:div").style("width",y+"px").style("height",g+"px").style("font-size","8px").style("line-height","1").style("text-align","center").html(r)}})})}};